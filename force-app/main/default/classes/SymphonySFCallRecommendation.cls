public with sharing class SymphonySFCallRecommendation {

    @future (callout=true)
    public static void findPlans(Id quoteId) {
        //Use the payload for the final roster data for fine tune and census
        String recRequest = '{"numberBelow20": 21,"targetRxTierFourCopay": 100,"targetINNCoinsurance": 0.2,"targetOONCoinsurance": 0.4,"targetOOPMaxFamilyINN": 6000,"targetOOPMaxFamilyOON": 12000,"targetOOPMaxIndividualOON": 6000,"targetRxTierFourCoinsurance": 0.15,"targetRxTierOneCoinsurance": 0.15,"targetRxTierOneCopay": 53,"targetRxTierThreeCoinsurance": 0.15,"targetRxTierThreeCopay": 40,"targetRxTierTwoCoinsurance": 0.15,"targetRxTierTwoCopay": 60,"totalSbscrbrCntOrg": 87,"totalDpndntOrg": 34,"totalAvgAge": 41,"sicDivision": "Services","stateCode": "OH","currentIndividualDeductibleINN": 1000,"numberFamilyPlans": 0,"numberIndividualPlans": 0,"numberMale": 108,"numberFemale": 91,"numberBetween21And30": 41,"numberBetween31And40": 42,"numberBetween41And50": 34,"numberBetween51And60": 23,"numberOver60": 23,"memberSelectionCategory": "PPO","zipCode": 91362,"targetOOPMaxIndividualINN": 3000,"targetDeductibleIndividualINN": 3825,"targetDeductibleIndividualOON": 12380,"targetDeductibleFamilyINN": 2000,"targetDeductibleFamilyOON": 4000,"currentOOPmaxIndividualINN": 3000,"currentOOPmaxIndividualOON": 6000,"currentOOPmaxFamilyINN": 6000,"currentOOPmaxFamilyOON": 12000,"currentCoinsuranceINN": 0.2,"currentCoinsuranceOON": 0.4,"currentFamilyDeductibleINN": 2000,"currentIndividualDeductibleOON": 2000,"currentFamilyDeductibleOON": 4000,"numbOfPlans": 3,"county": "LOS ANGELES","effectiveDt": "12-12-2019","activeMemberCount": 199,"numberEK": 10,"numberES": 28,"sicCd": 2074,"employeeChildrenPMPM": 322,"employeeSpousePMPM": 230,"familyPMPM": 345,"indvidualPMPM": 213,"currentRxTierFourCoinsurance": -1,"currentRxTierFourCopay": 100,"currentRxTierOneCoinsurance": -1,"currentRxTierOneCopay": 10,"currentRxTierThreeCoinsurance": -1,"currentRxTierThreeCopay": 40,"currentRxTierTwoCoinsurance": -1,"currentRxTierTwoCopay": 40}';

        //Use the payload for the final actual roster
        String roster = '[{ "firstName": "Melissa", "lastName": "Gousse", "dateOfBirth": "7/24/59", "gender": "F", "tier": "I", "zipCode": "04096" }, { "firstName": "Lisa", "lastName": "Cox", "dateOfBirth": "3/21/83", "gender": "F", "tier": "F", "zipCode": "04039" }, { "firstName": "Skipper", "lastName": "Doughty", "dateOfBirth": "8/29/78", "gender": "M", "tier": "F", "zipCode": "04039" }, { "firstName": "Kaine", "lastName": "Piawlock", "dateOfBirth": "7/22/08", "gender": "M", "tier": "F", "zipCode": "04039" }, { "firstName": "Rhonda", "lastName": "Cobb", "dateOfBirth": "1/16/59", "gender": "F", "tier": "I", "zipCode": "04274" }, { "firstName": "Julia", "lastName": "Sayward", "dateOfBirth": "10/21/59", "gender": "F", "tier": "I", "zipCode": "04106" }, { "firstName": "Rhonda", "lastName": "Thompson", "dateOfBirth": "11/13/62", "gender": "F", "tier": "I", "zipCode": "04032" }, { "firstName": "Carla", "lastName": "Joyce", "dateOfBirth": "9/24/59", "gender": "F", "tier": "I", "zipCode": "04021" }, { "firstName": "Pamela", "lastName": "Lowell", "dateOfBirth": "11/26/58", "gender": "F", "tier": "I", "zipCode": "04062" }, { "firstName": "Sally", "lastName": "Willis", "dateOfBirth": "3/22/51", "gender": "F", "tier": "I", "zipCode": "04107" }, { "firstName": "Lorraine", "lastName": "Riesold", "dateOfBirth": "1/30/62", "gender": "F", "tier": "I", "zipCode": "04106" }, { "firstName": "Margo", "lastName": "Emerson", "dateOfBirth": "8/18/63", "gender": "F", "tier": "EK", "zipCode": "04046" }, { "firstName": "Jack", "lastName": "Emerson", "dateOfBirth": "2/8/04", "gender": "M", "tier": "EK", "zipCode": "04046" }, { "firstName": "Stephen", "lastName": "Emerson", "dateOfBirth": "1/21/02", "gender": "M", "tier": "EK", "zipCode": "04046" }, { "firstName": "Melanie", "lastName": "Connors", "dateOfBirth": "6/14/72", "gender": "F", "tier": "I", "zipCode": "04103" }, { "firstName": "Carla", "lastName": "Thalken", "dateOfBirth": "2/10/55", "gender": "F", "tier": "I", "zipCode": "04108" }, { "firstName": "Michelle", "lastName": "Johnsen", "dateOfBirth": "8/29/78", "gender": "F", "tier": "I", "zipCode": "04029" }, { "firstName": "Melissa", "lastName": "Midura", "dateOfBirth": "7/22/75", "gender": "F", "tier": "I", "zipCode": "04280" }, { "firstName": "Stacy", "lastName": "Reed", "dateOfBirth": "10/19/86", "gender": "F", "tier": "I", "zipCode": "04092" }, { "firstName": "Lisa", "lastName": "Conlogue", "dateOfBirth": "10/12/78", "gender": "F", "tier": "I", "zipCode": "04064" }, { "firstName": "Autumn", "lastName": "Bennett", "dateOfBirth": "12/24/92", "gender": "F", "tier": "I", "zipCode": "04085" }, { "firstName": "Therese", "lastName": "Harris", "dateOfBirth": "9/8/59", "gender": "F", "tier": "I", "zipCode": "04103" }, { "firstName": "Anne", "lastName": "Read", "dateOfBirth": "2/4/57", "gender": "F", "tier": "I", "zipCode": "04103" }, { "firstName": "Deborah", "lastName": "Thurston", "dateOfBirth": "5/20/60", "gender": "F", "tier": "I", "zipCode": "04105" }, { "firstName": "Nicole", "lastName": "Thomas", "dateOfBirth": "9/27/86", "gender": "F", "tier": "I", "zipCode": "04005" }, { "firstName": "Brooke", "lastName": "Mccarron", "dateOfBirth": "1/19/82", "gender": "F", "tier": "I", "zipCode": "04039" }, { "firstName": "Mimoza", "lastName": "Sawtelle", "dateOfBirth": "12/5/69", "gender": "F", "tier": "I", "zipCode": "04062" }, { "firstName": "Jennifer", "lastName": "Cole", "dateOfBirth": "6/2/78", "gender": "F", "tier": "I", "zipCode": "04106" }, { "firstName": "Stacey", "lastName": "Leclair", "dateOfBirth": "10/29/80", "gender": "F", "tier": "I", "zipCode": "04222" }, { "firstName": "Joshua", "lastName": "Goldman", "dateOfBirth": "7/1/75", "gender": "M", "tier": "F", "zipCode": "04102" }, { "firstName": "Virginia", "lastName": "Goldman", "dateOfBirth": "8/1/79", "gender": "F", "tier": "F", "zipCode": "04102" }, { "firstName": "Jade", "lastName": "Goldman", "dateOfBirth": "3/3/16", "gender": "F", "tier": "F", "zipCode": "04102" }, { "firstName": "Jules", "lastName": "Goldman", "dateOfBirth": "2/12/18", "gender": "F", "tier": "F", "zipCode": "04102" }, { "firstName": "Sara", "lastName": "Crandall", "dateOfBirth": "10/2/91", "gender": "F", "tier": "I", "zipCode": "04274" }, { "firstName": "Katherine", "lastName": "Dahlke", "dateOfBirth": "4/1/78", "gender": "F", "tier": "I", "zipCode": "04103" }, { "firstName": "Katherine", "lastName": "Brannen", "dateOfBirth": "5/10/68", "gender": "F", "tier": "F", "zipCode": "04106" }, { "firstName": "Scott", "lastName": "Richardson", "dateOfBirth": "5/2/56", "gender": "M", "tier": "F", "zipCode": "04106" }, { "firstName": "Ian", "lastName": "Richardson", "dateOfBirth": "1/6/03", "gender": "M", "tier": "F", "zipCode": "04106" }, { "firstName": "Kari", "lastName": "Vance", "dateOfBirth": "5/31/82", "gender": "F", "tier": "I", "zipCode": "04092" }, { "firstName": "Nancy", "lastName": "Selby", "dateOfBirth": "2/1/54", "gender": "F", "tier": "I", "zipCode": "04092" }, { "firstName": "Benjamin", "lastName": "Potter", "dateOfBirth": "5/3/62", "gender": "M", "tier": "F", "zipCode": "04096" }, { "firstName": "Dina", "lastName": "Potter", "dateOfBirth": "5/31/63", "gender": "F", "tier": "F", "zipCode": "04096" }, { "firstName": "Ariel", "lastName": "Potter", "dateOfBirth": "6/11/96", "gender": "F", "tier": "F", "zipCode": "04096" }, { "firstName": "Hannah", "lastName": "Potter", "dateOfBirth": "8/11/94", "gender": "F", "tier": "F", "zipCode": "04096" }, { "firstName": "Samuel", "lastName": "Potter", "dateOfBirth": "8/27/99", "gender": "M", "tier": "F", "zipCode": "04096" }, { "firstName": "Daniel", "lastName": "Kilby", "dateOfBirth": "5/9/82", "gender": "M", "tier": "I", "zipCode": "04107" }, { "firstName": "John", "lastName": "Erkkinen", "dateOfBirth": "6/27/48", "gender": "M", "tier": "ES", "zipCode": "04096" }, { "firstName": "Porter", "lastName": "Erkkinen", "dateOfBirth": "10/21/51", "gender": "F", "tier": "ES", "zipCode": "04096" }, { "firstName": "Alan", "lastName": "Kilby", "dateOfBirth": "5/31/52", "gender": "M", "tier": "ES", "zipCode": "04107" }, { "firstName": "Ann", "lastName": "Kilby", "dateOfBirth": "3/27/53", "gender": "F", "tier": "ES", "zipCode": "04107" }, { "firstName": "Gordon", "lastName": "Millspaugh", "dateOfBirth": "9/2/65", "gender": "M", "tier": "F", "zipCode": "04102" }, { "firstName": "Laura", "lastName": "Lewis", "dateOfBirth": "5/9/66", "gender": "F", "tier": "F", "zipCode": "04102" }, { "firstName": "Benjamin", "lastName": "Millspaugh", "dateOfBirth": "2/21/01", "gender": "M", "tier": "F", "zipCode": "04102" }, { "firstName": "Harry", "lastName": "Millspaugh", "dateOfBirth": "12/30/02", "gender": "M", "tier": "F", "zipCode": "04102" }, { "firstName": "Laura", "lastName": "Millspaugh", "dateOfBirth": "6/18/04", "gender": "F", "tier": "F", "zipCode": "04102" }, { "firstName": "Douglas", "lastName": "Howell", "dateOfBirth": "8/3/47", "gender": "M", "tier": "ES", "zipCode": "04106" }, { "firstName": "Sharyn", "lastName": "Howell", "dateOfBirth": "12/31/48", "gender": "F", "tier": "ES", "zipCode": "04106" }, { "firstName": "Charlene", "lastName": "Fraser", "dateOfBirth": "5/27/59", "gender": "F", "tier": "I", "zipCode": "04071" }, { "firstName": "Cynthia", "lastName": "Chamberlain", "dateOfBirth": "12/30/58", "gender": "F", "tier": "I", "zipCode": "04260" }, { "firstName": "Nicole", "lastName": "Fitzsimmons", "dateOfBirth": "12/13/77", "gender": "F", "tier": "I", "zipCode": "04102" }, { "firstName": "Kathleen", "lastName": "Skilling", "dateOfBirth": "8/30/58", "gender": "F", "tier": "I", "zipCode": "04039" }, { "firstName": "Julianne", "lastName": "Warren", "dateOfBirth": "12/17/52", "gender": "F", "tier": "I", "zipCode": "04024" }, { "firstName": "Joanne", "lastName": "Pralicz", "dateOfBirth": "10/30/61", "gender": "F", "tier": "I", "zipCode": "04061" }, { "firstName": "Caitlin", "lastName": "Jessel", "dateOfBirth": "7/1/82", "gender": "F", "tier": "F", "zipCode": "03901" }, { "firstName": "Kevin", "lastName": "Jessel", "dateOfBirth": "3/14/79", "gender": "M", "tier": "F", "zipCode": "03901" }, { "firstName": "Tali", "lastName": "Jessel", "dateOfBirth": "5/16/18", "gender": "F", "tier": "F", "zipCode": "03901" }, { "firstName": "Matthew", "lastName": "Jessel", "dateOfBirth": "6/9/15", "gender": "M", "tier": "F", "zipCode": "03901" }, { "firstName": "Robin", "lastName": "Traub", "dateOfBirth": "9/25/85", "gender": "F", "tier": "I", "zipCode": "04106" }, { "firstName": "Susan", "lastName": "Shaw", "dateOfBirth": "6/27/71", "gender": "F", "tier": "I", "zipCode": "04074" }, { "firstName": "Kimberly", "lastName": "Phinney", "dateOfBirth": "6/8/67", "gender": "F", "tier": "I", "zipCode": "04038" }, { "firstName": "Donna", "lastName": "Madison", "dateOfBirth": "2/6/54", "gender": "F", "tier": "I", "zipCode": "04103" }, { "firstName": "Mary", "lastName": "Brown", "dateOfBirth": "10/14/65", "gender": "F", "tier": "I", "zipCode": "04032" }, { "firstName": "Jean", "lastName": "Reiter", "dateOfBirth": "2/16/57", "gender": "F", "tier": "I", "zipCode": "04210" }, { "firstName": "Kathryn", "lastName": "Wheat", "dateOfBirth": "3/22/68", "gender": "F", "tier": "I", "zipCode": "04021" }, { "firstName": "Erica", "lastName": "Wenzel", "dateOfBirth": "7/23/84", "gender": "F", "tier": "EK", "zipCode": "04072" }, { "firstName": "Jaxson", "lastName": "Desrochers", "dateOfBirth": "3/4/18", "gender": "M", "tier": "EK", "zipCode": "04072" }, { "firstName": "Kate", "lastName": "Kennedy", "dateOfBirth": "3/18/80", "gender": "F", "tier": "I", "zipCode": "04102" }, { "firstName": "Christine", "lastName": "Adams", "dateOfBirth": "12/6/60", "gender": "F", "tier": "I", "zipCode": "04062" }, { "firstName": "Sharon", "lastName": "Elizabeth", "dateOfBirth": "1/8/56", "gender": "F", "tier": "I", "zipCode": "04107" }, { "firstName": "Brent", "lastName": "Clarkson", "dateOfBirth": "11/23/65", "gender": "M", "tier": "I", "zipCode": "04106" }, { "firstName": "Amanda", "lastName": "Riley", "dateOfBirth": "8/3/91", "gender": "F", "tier": "I", "zipCode": "04072" }, { "firstName": "Susan", "lastName": "Somers-Carlin", "dateOfBirth": "11/18/66", "gender": "F", "tier": "ES", "zipCode": "04062" }, { "firstName": "Peter", "lastName": "Carlin", "dateOfBirth": "4/1/58", "gender": "M", "tier": "ES", "zipCode": "04062" }, { "firstName": "Gennadiy", "lastName": "Bakis", "dateOfBirth": "4/9/73", "gender": "M", "tier": "I", "zipCode": "04102" }, { "firstName": "Cynthia", "lastName": "Sullivan", "dateOfBirth": "6/6/68", "gender": "F", "tier": "I", "zipCode": "04901" }, { "firstName": "Candice", "lastName": "Eng", "dateOfBirth": "4/29/82", "gender": "F", "tier": "EK", "zipCode": "04072" }, { "firstName": "Theresa", "lastName": "Eng", "dateOfBirth": "4/27/10", "gender": "F", "tier": "EK", "zipCode": "04072" }, { "firstName": "Michael", "lastName": "Danis", "dateOfBirth": "1/6/17", "gender": "M", "tier": "EK", "zipCode": "04072" }, { "firstName": "Alexis", "lastName": "Dibiase", "dateOfBirth": "3/29/96", "gender": "F", "tier": "I", "zipCode": "04092" }, { "firstName": "Jennifer", "lastName": "Dyer", "dateOfBirth": "6/8/88", "gender": "F", "tier": "I", "zipCode": "04101" }, { "firstName": "Casey", "lastName": "West", "dateOfBirth": "2/16/76", "gender": "M", "tier": "I", "zipCode": "04038" }, { "firstName": "Ann", "lastName": "Brock-Piela", "dateOfBirth": "10/27/62", "gender": "F", "tier": "I", "zipCode": "04530" }, { "firstName": "Michelle", "lastName": "Clark", "dateOfBirth": "5/9/67", "gender": "F", "tier": "I", "zipCode": "04062" }, { "firstName": "Hurshidahon", "lastName": "Mahkamova", "dateOfBirth": "9/23/90", "gender": "F", "tier": "I", "zipCode": "04106" }, { "firstName": "Celeste", "lastName": "Cannafarina", "dateOfBirth": "1/9/99", "gender": "F", "tier": "I", "zipCode": "04005" }, { "firstName": "Ellen", "lastName": "Hallett", "dateOfBirth": "10/17/58", "gender": "F", "tier": "I", "zipCode": "04106" }, { "firstName": "Charadee", "lastName": "Carter", "dateOfBirth": "2/14/82", "gender": "F", "tier": "I", "zipCode": "04210" }, { "firstName": "Yvonne", "lastName": "Lambert", "dateOfBirth": "10/14/56", "gender": "F", "tier": "I", "zipCode": "04062" }, { "firstName": "Noemi", "lastName": "Baffy", "dateOfBirth": "12/7/80", "gender": "F", "tier": "F", "zipCode": "04106" }, { "firstName": "Bulcsu", "lastName": "Lengyel", "dateOfBirth": "10/3/80", "gender": "M", "tier": "F", "zipCode": "04106" }, { "firstName": "Hanna", "lastName": "Lengyel", "dateOfBirth": "8/23/14", "gender": "F", "tier": "F", "zipCode": "04106" }, { "firstName": "Marcell", "lastName": "Lengyel", "dateOfBirth": "6/24/16", "gender": "M", "tier": "F", "zipCode": "04106" }, { "firstName": "Robyn", "lastName": "Mccarthy", "dateOfBirth": "4/20/65", "gender": "F", "tier": "I", "zipCode": "04072" }, { "firstName": "Shawna", "lastName": "Hallett", "dateOfBirth": "8/1/74", "gender": "F", "tier": "I", "zipCode": "04005" }, { "firstName": "Diana", "lastName": "Macdonald", "dateOfBirth": "8/11/56", "gender": "F", "tier": "I", "zipCode": "04102" }, { "firstName": "Sheryl", "lastName": "Carr", "dateOfBirth": "11/25/71", "gender": "F", "tier": "I", "zipCode": "04064" }, { "firstName": "Ashlee", "lastName": "Johnson", "dateOfBirth": "3/15/85", "gender": "F", "tier": "I", "zipCode": "04085" }, { "firstName": "Jonathan", "lastName": "Lombardi", "dateOfBirth": "12/19/88", "gender": "M", "tier": "I", "zipCode": "04101" }, { "firstName": "Tanja", "lastName": "Ramsdell", "dateOfBirth": "1/16/85", "gender": "F", "tier": "I", "zipCode": "04061" }, { "firstName": "Stacey", "lastName": "King", "dateOfBirth": "10/28/72", "gender": "F", "tier": "I", "zipCode": "04096" }, { "firstName": "Megan", "lastName": "Dupuis", "dateOfBirth": "5/14/85", "gender": "F", "tier": "I", "zipCode": "04092" }, { "firstName": "Julie", "lastName": "Shaw", "dateOfBirth": "11/12/61", "gender": "F", "tier": "I", "zipCode": "04005" }, { "firstName": "Ekaterina", "lastName": "Funk", "dateOfBirth": "6/13/83", "gender": "F", "tier": "F", "zipCode": "04062" }, { "firstName": "Alex", "lastName": "Funk", "dateOfBirth": "3/8/72", "gender": "M", "tier": "F", "zipCode": "04062" }, { "firstName": "Alexandra", "lastName": "Funk", "dateOfBirth": "12/3/05", "gender": "F", "tier": "F", "zipCode": "04062" }, { "firstName": "Peter", "lastName": "Funk", "dateOfBirth": "6/12/10", "gender": "M", "tier": "F", "zipCode": "04062" }, { "firstName": "Leo", "lastName": "Funk", "dateOfBirth": "12/9/16", "gender": "M", "tier": "F", "zipCode": "04062" }, { "firstName": "Susan", "lastName": "Lindh", "dateOfBirth": "1/20/70", "gender": "F", "tier": "I", "zipCode": "04072" }, { "firstName": "Courtney", "lastName": "Graf", "dateOfBirth": "5/4/83", "gender": "F", "tier": "I", "zipCode": "04103" }, { "firstName": "Allison", "lastName": "Perron", "dateOfBirth": "8/14/95", "gender": "F", "tier": "I", "zipCode": "04101" }, { "firstName": "Deborah", "lastName": "Jean", "dateOfBirth": "2/5/57", "gender": "F", "tier": "I", "zipCode": "04086" }]';

        AnthemAPI.RecommendationRequest recommendationRequest = new AnthemAPI.RecommendationRequest();
        recommendationRequest = (AnthemAPI.RecommendationRequest) JSON.deserialize(recRequest, AnthemAPI.RecommendationRequest.class);
        
        List<APISymphonyRecPlans.MemberInfo> listMI = new List<APISymphonyRecPlans.MemberInfo>();

        listMI = (List<APISymphonyRecPlans.MemberInfo>) JSON.deserialize(roster, List<APISymphonyRecPlans.MemberInfo>.class);

        APISymphonyRecPlans.findRecommendedPlans(quoteId, recommendationRequest, listMi);
    }
}